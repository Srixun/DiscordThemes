/**
 * @name The Quinfall
 * @author Srixun
 * @version 2.1.0
 * @description Aggressive structural overhaul. Transparent panels, deep cinematic backgrounds, custom fonts, rich gold/bronze framing, and static Amber highlight for a specific user.
 */

@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700;900&family=Lora:ital,wght@0,400;0,500;1,400&display=swap');

:root {
  /* Fonts */
  --qf-font-headers: 'Cinzel', serif;
  --qf-font-body: 'Lora', serif;

  /* Colors based on Quinfall Logo */
  --qf-bg-deep: #050302;
  --qf-gold: #d4a038;
  --qf-gold-bright: #f7d377;
  --qf-bronze: #7a461e;
  --qf-bronze-dark: #4a2910;
  --qf-flare: #ffdf80;
  
  /* Text */
  --qf-text-main: #f5ebd5;
  --qf-text-muted: #a38d6d;

  /* Discord Variable Overrides (Making standard backgrounds transparent) */
  --font-primary: var(--qf-font-body);
  --font-display: var(--qf-font-headers);
  --font-headline: var(--qf-font-headers);
  --text-normal: var(--qf-text-main);
  --text-muted: var(--qf-text-muted);
  --text-link: var(--qf-flare);
  
  /* We use RGBA here to let the app background bleed through */
  --background-primary: rgba(18, 12, 8, 0.65) !important;    /* Chat Area */
  --background-secondary: rgba(10, 7, 5, 0.85) !important;   /* Sidebar / Members */
  --background-tertiary: rgba(5, 3, 2, 0.95) !important;     /* Server List */
  --background-floating: rgba(26, 18, 12, 0.95) !important;  /* Menus/Popouts */
  --background-modifier-hover: rgba(212, 160, 56, 0.15) !important;
  --background-modifier-selected: rgba(212, 160, 56, 0.25) !important;
  --channeltextarea-background: rgba(36, 26, 18, 0.7) !important;
}

/* ========== APP BACKGROUND (THE FOUNDATION) ========== */
[class^="bg_"], #app-mount, body {
  background-color: var(--qf-bg-deep) !important;
  /* background-image: url('YOUR_IMAGE_LINK_HERE') !important; */
  background-position: center !important;
  background-size: cover !important;
}

/* ========== STRUCTURAL PANELS & BORDERS ========== */
[class^="wrapper_"] > [class^="scroller_"] {
  border-right: 1px solid var(--qf-bronze-dark);
}

[class^="sidebar_"] {
  border-right: 1px solid rgba(122, 70, 30, 0.5) !important;
  box-shadow: 5px 0 15px rgba(0,0,0,0.5);
  background: linear-gradient(180deg, rgba(10,7,5,0.9) 0%, rgba(18,12,8,0.9) 100%) !important;
}

[class^="panels_"] {
  border-top: 1px solid var(--qf-bronze-dark) !important;
  background: rgba(5, 3, 2, 0.95) !important;
  box-shadow: 0 -5px 10px rgba(0,0,0,0.5);
}

[class^="title_"] {
  border-bottom: 1px solid rgba(122, 70, 30, 0.3) !important;
  background: rgba(18, 12, 8, 0.8) !important;
  backdrop-filter: blur(5px);
}

[class^="members_"], [class^="membersWrap_"] {
  background: rgba(10, 7, 5, 0.7) !important;
  border-left: 1px solid rgba(122, 70, 30, 0.3) !important;
}

/* ========== CHAT INPUT & MESSAGES ========== */
[class^="channelTextArea_"] {
  border: 1px solid var(--qf-bronze) !important;
  border-radius: 8px !important;
  box-shadow: inset 0 0 15px rgba(0,0,0,0.8), 0 0 10px rgba(212, 160, 56, 0.05) !important;
}

/* Individual Message Hover - FIXED SHIFTING BUG */
[class^="message_"]:hover {
  background: linear-gradient(90deg, rgba(212, 160, 56, 0.08), transparent) !important;
  box-shadow: inset 3px 0 0 0 var(--qf-gold) !important; 
}

.mention {
  background: rgba(212, 160, 56, 0.2) !important;
  color: var(--qf-flare) !important;
  font-family: var(--qf-font-headers);
  border-radius: 4px;
  padding: 0 4px;
  border: 1px solid rgba(212, 160, 56, 0.4);
}

/* ========== TYPOGRAPHY OVERRIDES ========== */
* { font-family: var(--font-primary); }

h1, h2, h3, h4, h5, [class*="heading"], [class*="title"] {
  font-family: var(--font-display) !important;
}

[class^="containerDefault_"] > [class^="wrapper_"] [class^="name_"] {
  font-family: var(--qf-font-headers) !important;
  color: var(--qf-gold) !important;
  font-size: 15px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  text-shadow: 0 0 5px rgba(212, 160, 56, 0.5);
}

[class^="name_"] {
  font-family: var(--qf-font-headers) !important;
  font-weight: 500;
  font-size: 15px;
  color: var(--qf-text-muted) !important;
}

[class*="modeUnreadImportant_"] [class^="name_"],
[class*="modeSelected_"] [class^="name_"] {
  color: var(--qf-gold-bright) !important;
  text-shadow: 0 0 10px rgba(247, 211, 119, 0.4);
  font-weight: 700;
}

[class^="username_"] {
  font-family: var(--qf-font-headers) !important;
  color: var(--qf-gold) !important;
  font-size: 1.15em;
  letter-spacing: 0.5px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
}

[class^="messageContent_"] {
  font-family: var(--qf-font-body) !important;
  color: var(--qf-text-main) !important;
  font-size: 16px; 
  line-height: 1.6;
}

/* ========== SCROLLBARS ========== */
::-webkit-scrollbar {
  width: 10px !important;
}
::-webkit-scrollbar-track {
  background: rgba(5, 3, 2, 0.8) !important;
  border-left: 1px solid var(--qf-bronze-dark);
}
::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--qf-bronze), var(--qf-gold), var(--qf-bronze)) !important;
  border-radius: 0px !important;
  border: 1px solid var(--qf-bronze-dark) !important;
}

/* ========== TEXT HIGHLIGHTING ========== */
::selection {
  background: rgba(212, 160, 56, 0.4) !important;
  color: var(--qf-flare) !important;
  text-shadow: 0 0 8px rgba(255, 223, 128, 0.8);
}

/* ======================================================================== */
/* CUSTOM USER HIGHLIGHT: Static Amber Override                             */
/* ======================================================================== */

/* 1. Force the Amber Yellow color on the name in ALL locations */
div#app-mount [class*="message_"]:has([src*="159075434305290240"]) [class*="username_"],
div#app-mount [class*="message_"]:has([src*="159075434305290240"]) [class*="username_"] span,
div#app-mount [class*="member_"]:has([src*="159075434305290240"]) [class*="name_"],
div#app-mount [class*="member_"]:has([src*="159075434305290240"]) [class*="name_"] span,
div#app-mount [data-author-id="159075434305290240"] [class*="username_"],
div#app-mount [data-author-id="159075434305290240"] [class*="username_"] span,
div#app-mount [data-user-id="159075434305290240"] [class*="name_"],
div#app-mount [data-user-id="159075434305290240"] [class*="name_"] span {
  color: #ffd700 !important; 
  text-shadow: 0 0 4px rgba(255, 170, 0, 0.4) !important; 
  font-weight: 800 !important;
}

/* 2. Subtle Message Block Highlight (Only in chat) */
div#app-mount [class*="message_"]:has([src*="159075434305290240"]),
div#app-mount [class*="message_"][data-author-id="159075434305290240"] {
  background-color: rgba(255, 215, 0, 0.03) !important;
  border-left: 2px solid rgba(255, 215, 0, 0.25) !important;
}

div#app-mount [class*="message_"]:has([src*="159075434305290240"]):hover,
div#app-mount [class*="message_"][data-author-id="159075434305290240"]):hover {
  background-color: rgba(255, 215, 0, 0.06) !important;
  border-left: 2px solid rgba(255, 215, 0, 0.5) !important;
  box-shadow: none !important;
}
